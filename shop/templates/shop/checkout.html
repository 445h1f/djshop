{% extends "shop/base.html" %}
{% load static %}
{% block body %}
<div class="container">
  <div class="row">
    <div class="col-md-12">

<nav>
  <div class="nav nav-tabs" id="nav-tab" role="tablist">
    <button class="nav-link active" id="nav-items-tab" data-bs-toggle="tab" data-bs-target="#nav-items" type="button" role="tab" aria-controls="nav-items" aria-selected="true">Items</button>
    <button class="nav-link" id="nav-payment-tab" data-bs-toggle="tab" data-bs-target="#nav-payment" type="button" role="tab" aria-controls="nav-payment" aria-selected="false">Payment</button>
  </div>
</nav>


<div class="tab-content" id="nav-tabContent">
  <div class="tab-pane fade show active" id="nav-items" role="tabpanel" aria-labelledby="nav-item-tab" tabindex="0">


    <ul class="list-group mb-3">
      {% for product in cart_data %}
      <li class="list-group-item">
        <div class="row">
          <div class="col-4">

              {% if product.image|length > 0%}
              <img src="{% static 'shop/images/no_img.png' %}" class="img-thumbnail p-2" style="max-width: 100%; max-height: 100%;" alt="Item Image">
        {% else %}
        <img src="{% static 'shop/images/no_img.png' %}" class="img-thumbnail p-2" style="max-width: 100%; max-height: 100%;" alt="Item Image">
        {% endif %}

          </div>
          <div class="col-8">
            <h5 id="name-{{product.id}}"class="card-title item-card-title">{{ product.title|truncatechars:100 }}</h5>
        <p class="card-text"><span id="price-{{product.id}}" class="item-card-price">₹ {{ product.discount_price }}</span>
          <strike>{{ product.price}}</strike>
        </p>
            <p class="card-text">Quantity: {{ product.quantity }}</p>
          </div>
        </div>
      </li>
      {% endfor %}
    </ul>
  </div>
  </div>
  <div class="tab-pane fade" id="nav-payment" role="tabpanel" aria-labelledby="nav-payment-tab" tabindex="0">
    <div class="card">
      <div class="row g-0">

        <div class="col-md-12">
          <div class="card-body">
            <h5 class="card-title">Order Info:</h5>

            <div class="table-responsive">
              <table class="table table-striped">
                <tbody>
                  <tr>
                    <th>Total Price: </th>
                    <td>₹ {{ order_info.total_price }}</td>
                  </tr>
                  <tr>
                    <th>Savings: </th>
                    <td>₹ {{ order_info.savings }}</td>
                  </tr>
                  <tr>
                    <th>Final Price: </th>
                    <td>₹ {{ order_info.total_discount_price }}</td>
                  </tr>
                  <tr>
                    <th>Total Items: </th>
                    <td>{{ order_info.total_quantity }}</td>
                  </tr>
                  <!-- Add more key-value pairs here -->
                </tbody>
              </table>
            </div>


          </div>
        </div>
      </div>
    </div>

  </div>
</div>
</div>
</div>
</div>

{% endblock %}